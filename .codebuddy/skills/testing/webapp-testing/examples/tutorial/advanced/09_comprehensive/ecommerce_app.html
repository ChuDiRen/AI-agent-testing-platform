<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TechShop - E-Commerce Demo</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; }
        header { background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 20px; position: sticky; top: 0; z-index: 1000; box-shadow: 0 2px 10px rgba(0,0,0,0.1); }
        .header-content { max-width: 1200px; margin: 0 auto; display: flex; justify-content: space-between; align-items: center; }
        .logo { font-size: 1.8em; font-weight: bold; }
        .cart-icon { cursor: pointer; padding: 10px 20px; background: rgba(255,255,255,0.2); border-radius: 5px; }
        .cart-count { background: #ff4757; padding: 2px 8px; border-radius: 10px; font-size: 0.9em; margin-left: 5px; }
        .search-bar { width: 100%; max-width: 500px; padding: 10px; border: 2px solid #ddd; border-radius: 5px; font-size: 1em; margin: 20px auto; display: block; }
        .container { max-width: 1200px; margin: 30px auto; padding: 0 20px; }
        .product-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(250px, 1fr)); gap: 25px; }
        .product-card { background: white; border-radius: 10px; padding: 20px; box-shadow: 0 2px 10px rgba(0,0,0,0.1); transition: transform 0.3s; }
        .product-card:hover { transform: translateY(-5px); }
        .product-image { width: 100%; height: 200px; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); border-radius: 8px; display: flex; align-items: center; justify-content: center; font-size: 3em; margin-bottom: 15px; }
        .product-name { font-size: 1.2em; font-weight: 600; margin-bottom: 10px; }
        .product-price { font-size: 1.3em; color: #667eea; font-weight: bold; margin-bottom: 10px; }
        .product-description { color: #666; font-size: 0.95em; margin-bottom: 15px; }
        .btn { padding: 10px 20px; border: none; border-radius: 5px; cursor: pointer; font-weight: 600; transition: all 0.3s; }
        .btn-primary { background: #667eea; color: white; width: 100%; }
        .btn-primary:hover { background: #764ba2; }
        .modal { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.5); z-index: 2000; }
        .modal-content { background: white; max-width: 600px; margin: 50px auto; padding: 40px; border-radius: 15px; max-height: 80vh; overflow-y: auto; }
        .modal-close { float: right; font-size: 2em; cursor: pointer; color: #999; }
        .cart-item { padding: 15px; border-bottom: 1px solid #eee; display: flex; justify-content: space-between; align-items: center; }
        .cart-total { font-size: 1.5em; text-align: right; margin-top: 20px; padding-top: 20px; border-top: 2px solid #eee; }
        .empty-cart { text-align: center; padding: 40px; color: #999; }
        .checkout-form { margin-top: 30px; }
        .form-group { margin-bottom: 15px; }
        .form-group label { display: block; margin-bottom: 5px; font-weight: 600; }
        .form-group input { width: 100%; padding: 10px; border: 2px solid #ddd; border-radius: 5px; }
        .success-message { background: #d4edda; border: 2px solid #c3e6cb; color: #155724; padding: 20px; border-radius: 8px; text-align: center; margin-top: 20px; }
    </style>
</head>
<body>
    <header>
        <div class="header-content">
            <div class="logo">ðŸ›’ TechShop</div>
            <div class="cart-icon" onclick="openCart()">
                Cart <span class="cart-count" id="cartCount">0</span>
            </div>
        </div>
    </header>

    <div class="container">
        <input type="text" class="search-bar" id="searchBar" placeholder="Search products..." onkeyup="searchProducts()">
        <div class="product-grid" id="productGrid"></div>
    </div>

    <div class="modal" id="cartModal">
        <div class="modal-content">
            <span class="modal-close" onclick="closeCart()">&times;</span>
            <h2>Shopping Cart</h2>
            <div id="cartItems"></div>
            <div class="cart-total" id="cartTotal"></div>
            <div id="checkoutSection"></div>
        </div>
    </div>

    <script>
        const products = [
            { id: 1, name: 'Laptop Pro', price: 1299, category: 'laptop', icon: 'ðŸ’»', description: 'High-performance laptop for professionals' },
            { id: 2, name: 'Wireless Mouse', price: 29, category: 'accessory', icon: 'ðŸ–±ï¸', description: 'Ergonomic wireless mouse' },
            { id: 3, name: 'Mechanical Keyboard', price: 129, category: 'accessory', icon: 'âŒ¨ï¸', description: 'RGB mechanical gaming keyboard' },
            { id: 4, name: 'USB-C Hub', price: 49, category: 'accessory', icon: 'ðŸ”Œ', description: '7-in-1 USB-C hub with HDMI' },
            { id: 5, name: 'Wireless Headphones', price: 199, category: 'audio', icon: 'ðŸŽ§', description: 'Noise-cancelling headphones' },
            { id: 6, name: 'Webcam HD', price: 79, category: 'accessory', icon: 'ðŸ“·', description: '1080p webcam with microphone' },
            { id: 7, name: 'Monitor 27"', price: 349, category: 'display', icon: 'ðŸ–¥ï¸', description: '4K IPS display' },
            { id: 8, name: 'External SSD 1TB', price: 159, category: 'storage', icon: 'ðŸ’¾', description: 'Portable solid-state drive' },
            { id: 9, name: 'Laptop Stand', price: 39, category: 'accessory', icon: 'ðŸ“', description: 'Aluminum laptop stand' },
            { id: 10, name: 'Desk Lamp', price: 59, category: 'accessory', icon: 'ðŸ’¡', description: 'LED desk lamp with USB port' },
        ];

        let cart = [];
        let allProducts = [...products];

        function renderProducts(productsToRender = allProducts) {
            const grid = document.getElementById('productGrid');
            grid.innerHTML = productsToRender.map(p => `
                <div class="product-card">
                    <div class="product-image">${p.icon}</div>
                    <div class="product-name">${p.name}</div>
                    <div class="product-price">$${p.price}</div>
                    <div class="product-description">${p.description}</div>
                    <button class="btn btn-primary" onclick="addToCart(${p.id})">Add to Cart</button>
                </div>
            `).join('');
        }

        function searchProducts() {
            const query = document.getElementById('searchBar').value.toLowerCase();
            const filtered = query ? products.filter(p =>
                p.name.toLowerCase().includes(query) ||
                p.description.toLowerCase().includes(query) ||
                p.category.toLowerCase().includes(query)
            ) : products;
            allProducts = filtered;
            renderProducts(filtered);
            console.log(`Search: "${query}" - Found ${filtered.length} products`);
        }

        function addToCart(productId) {
            const product = products.find(p => p.id === productId);
            const existing = cart.find(item => item.id === productId);

            if (existing) {
                existing.quantity++;
            } else {
                cart.push({ ...product, quantity: 1 });
            }

            updateCartCount();
            console.log(`Added ${product.name} to cart`);
        }

        function updateCartCount() {
            const count = cart.reduce((sum, item) => sum + item.quantity, 0);
            document.getElementById('cartCount').textContent = count;
        }

        function openCart() {
            renderCart();
            document.getElementById('cartModal').style.display = 'block';
        }

        function closeCart() {
            document.getElementById('cartModal').style.display = 'none';
        }

        function renderCart() {
            const cartItems = document.getElementById('cartItems');
            const cartTotal = document.getElementById('cartTotal');

            if (cart.length === 0) {
                cartItems.innerHTML = '<div class="empty-cart"><p>Your cart is empty</p></div>';
                cartTotal.innerHTML = '';
                document.getElementById('checkoutSection').innerHTML = '';
                return;
            }

            cartItems.innerHTML = cart.map(item => `
                <div class="cart-item">
                    <div>
                        <strong>${item.name}</strong><br>
                        $${item.price} Ã— ${item.quantity}
                    </div>
                    <div>
                        <button class="btn" onclick="updateQuantity(${item.id}, -1)">-</button>
                        ${item.quantity}
                        <button class="btn" onclick="updateQuantity(${item.id}, 1)">+</button>
                        <button class="btn" onclick="removeFromCart(${item.id})">Remove</button>
                    </div>
                </div>
            `).join('');

            const total = cart.reduce((sum, item) => sum + (item.price * item.quantity), 0);
            cartTotal.innerHTML = `<strong>Total: $${total.toFixed(2)}</strong>`;

            document.getElementById('checkoutSection').innerHTML = `
                <button class="btn btn-primary" onclick="showCheckout()">Proceed to Checkout</button>
            `;
        }

        function updateQuantity(productId, change) {
            const item = cart.find(i => i.id === productId);
            if (item) {
                item.quantity += change;
                if (item.quantity <= 0) {
                    removeFromCart(productId);
                } else {
                    renderCart();
                    updateCartCount();
                }
            }
        }

        function removeFromCart(productId) {
            cart = cart.filter(item => item.id !== productId);
            renderCart();
            updateCartCount();
        }

        function showCheckout() {
            document.getElementById('checkoutSection').innerHTML = `
                <div class="checkout-form">
                    <h3>Checkout</h3>
                    <div class="form-group">
                        <label>Name</label>
                        <input type="text" id="checkoutName" required>
                    </div>
                    <div class="form-group">
                        <label>Email</label>
                        <input type="email" id="checkoutEmail" required>
                    </div>
                    <div class="form-group">
                        <label>Card Number</label>
                        <input type="text" id="checkoutCard" placeholder="**** **** **** ****" required>
                    </div>
                    <button class="btn btn-primary" onclick="completeCheckout()">Complete Order</button>
                </div>
            `;
        }

        function completeCheckout() {
            const name = document.getElementById('checkoutName').value;
            const email = document.getElementById('checkoutEmail').value;
            const orderId = 'ORD-' + Math.random().toString(36).substr(2, 9).toUpperCase();
            const total = cart.reduce((sum, item) => sum + (item.price * item.quantity), 0);

            console.log('Order completed:', { orderId, name, email, total });

            document.getElementById('checkoutSection').innerHTML = `
                <div class="success-message">
                    <h2>âœ… Order Confirmed!</h2>
                    <p>Order ID: <strong>${orderId}</strong></p>
                    <p>Thank you, ${name}!</p>
                    <p>Total: $${total.toFixed(2)}</p>
                    <p>A confirmation email has been sent to ${email}</p>
                </div>
            `;

            cart = [];
            updateCartCount();
        }

        // Initialize
        renderProducts();
        console.log('TechShop initialized with', products.length, 'products');
    </script>
</body>
</html>
