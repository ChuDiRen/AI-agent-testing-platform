---
description: 
alwaysApply: true
enabled: true
updatedAt: 2025-12-18T03:09:05.386Z
provider: 
---

# 代码复用检查规则

## 核心原则

**在生成任何业务代码之前，必须先检查是否已有相关的业务服务或功能，避免重复开发。**

## 检查流程

### 1. 查看功能清单文档
如果项目中存在 `docs/func.md`（或类似的功能清单文档），先阅读了解现有功能。

### 2. 检查现有代码

**后端项目检查**：
- Service 层：是否已有类似的业务服务
- Repository/DAO 层：是否已有相关的数据访问接口
- Model/Entity 层：是否已有相关的数据模型
- Utils 层：是否已有相关的工具函数

**前端项目检查**：
- API 层：是否已有相关的接口封装
- 组件层：是否已有相关的组件
- Composables/Hooks：是否已有相关的组合式函数
- Store 层：是否已有相关的状态管理

## 复用决策

| 优先级 | 场景 | 处理方式 |
|-------|------|---------|
| 1 | 发现完全匹配的功能 | 直接复用现有代码 |
| 2 | 发现类似功能 | 在现有类中扩展方法 |
| 3 | 发现相关但不完全匹配 | 评估是否可以重构复用 |
| 4 | 确认没有相关功能 | 创建新的类或服务 |

## 原则

- **先查后写**：永远先检查现有代码
- **优先复用**：能复用的绝不重写
- **合理扩展**：在现有基础上扩展