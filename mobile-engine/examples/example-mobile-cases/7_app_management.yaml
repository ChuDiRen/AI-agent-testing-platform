desc: App 管理测试
featureName: App 生命周期
storyName: App 管理
rank: normal
context:
  target_app_id: "com.example.app"
steps:
  - 启动应用:
      关键字: open_app

  - 获取当前 Package:
      关键字: get_current_package
      variable_name: current_package

  - 获取当前 Activity:
      关键字: get_current_activity
      variable_name: current_activity

  - App 后台运行:
      关键字: background_app
      duration: 3

  - 等待恢复:
      关键字: sleep
      time: 1

  - 检查 App 是否安装:
      关键字: is_app_installed
      app_id: "{{target_app_id}}"
      variable_name: is_installed

  - 获取 App 状态:
      关键字: query_app_state
      app_id: "{{target_app_id}}"
      variable_name: app_state

  - 截图:
      关键字: take_screenshot
      filename: app_management

  - 关闭应用:
      关键字: close_app
