name: 基础负载测试
description: 测试 API 在正常负载下的性能表现

config:
  stages:
    - duration: 10s
      target: 5
    - duration: 20s
      target: 5
    - duration: 10s
      target: 0

  thresholds:
    http_req_duration:
      - p(95) < 2000
      - p(99) < 3000
    http_req_failed:
      - rate < 0.1

scenarios:
  - name: GET请求测试
    method: GET
    url: "{{BASE_URL}}/get"
    params:
      test: "load"
    checks:
      - status == 200

  - name: POST请求测试
    method: POST
    url: "{{BASE_URL}}/post"
    headers:
      Content-Type: application/json
    body:
      username: "{{username}}"
      message: "performance test"
    checks:
      - status == 200
