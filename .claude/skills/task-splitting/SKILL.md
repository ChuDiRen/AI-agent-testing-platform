# 任务拆分技能

## 触发条件
- 关键词：任务拆分、需求拆分、任务分解、工作分解、WBS
- 场景：当用户需要将产品需求拆分为可执行的开发任务时

## 核心规范

### 规范1：任务拆分原则

| 原则 | 说明 | 示例 |
|------|------|------|
| **SMART** | 具体、可衡量、可实现、相关、有时限 | "实现用户登录接口" vs "做登录" |
| **单一职责** | 每个任务只做一件事 | 分离"接口开发"和"UI开发" |
| **可测试** | 任务完成有明确的验收标准 | "接口返回正确的 JSON 格式" |
| **独立性** | 尽量减少任务间依赖 | 先做基础模块，再做依赖模块 |
| **适度粒度** | 2-8 小时可完成 | 太大要拆分，太小要合并 |

### 规范2：任务分类

```markdown
## 按类型分类
1. **后端任务**
   - API 接口开发
   - 数据库设计与迁移
   - 业务逻辑实现
   - 第三方服务集成

2. **前端任务**
   - 页面开发
   - 组件开发
   - 状态管理
   - 接口联调

3. **测试任务**
   - 单元测试
   - 接口测试
   - E2E 测试

4. **运维任务**
   - 环境配置
   - CI/CD 配置
   - 监控告警配置
```

### 规范3：任务拆分模板

```markdown
## 需求：用户管理模块

### 后端任务
| 序号 | 任务名称 | 描述 | 预估工时 | 依赖 |
|------|---------|------|---------|------|
| BE-1 | 用户表设计 | 设计 users 表结构，包含基本字段 | 2h | - |
| BE-2 | 用户 Model 定义 | 使用 SQLModel 定义 User 模型 | 1h | BE-1 |
| BE-3 | 用户列表接口 | GET /api/users 分页查询 | 2h | BE-2 |
| BE-4 | 用户详情接口 | GET /api/users/{id} | 1h | BE-2 |
| BE-5 | 创建用户接口 | POST /api/users | 2h | BE-2 |
| BE-6 | 更新用户接口 | PUT /api/users/{id} | 2h | BE-2 |
| BE-7 | 删除用户接口 | DELETE /api/users/{id} | 1h | BE-2 |
| BE-8 | 用户接口测试 | 编写 pytest 测试用例 | 3h | BE-3~7 |

### 前端任务
| 序号 | 任务名称 | 描述 | 预估工时 | 依赖 |
|------|---------|------|---------|------|
| FE-1 | 用户列表页面 | 实现用户列表展示、搜索、分页 | 4h | BE-3 |
| FE-2 | 用户详情页面 | 实现用户详情展示 | 2h | BE-4 |
| FE-3 | 用户表单组件 | 新增/编辑用户表单 | 3h | - |
| FE-4 | 新增用户功能 | 集成新增用户表单和接口 | 2h | FE-3, BE-5 |
| FE-5 | 编辑用户功能 | 集成编辑用户表单和接口 | 2h | FE-3, BE-6 |
| FE-6 | 删除用户功能 | 实现删除确认和接口调用 | 1h | BE-7 |

### 总计
- 后端：14h
- 前端：14h
- 合计：28h（约 3.5 人天）
```

### 规范4：复杂需求拆分流程

```
1. 需求分析
   └── 理解业务目标
   └── 明确功能范围
   └── 确定验收标准

2. 架构设计
   └── 技术方案选型
   └── 数据模型设计
   └── 接口设计

3. 任务拆分
   └── 按模块拆分
   └── 按层次拆分（后端/前端/测试）
   └── 确定依赖关系

4. 工时评估
   └── 单任务评估
   └── 风险预留（+20%）
   └── 总体排期

5. 任务分配
   └── 根据技能分配
   └── 平衡工作量
   └── 确定里程碑
```

### 规范5：任务描述规范

```markdown
## 任务模板

### 任务标题
[类型] 简洁描述（如：[后端] 实现用户登录接口）

### 任务描述
**背景**：为什么需要这个任务
**目标**：完成后达到什么效果

### 技术要点
- 要点1
- 要点2

### 验收标准
- [ ] 标准1
- [ ] 标准2
- [ ] 标准3

### 相关资料
- 设计稿链接
- 接口文档链接
- 参考代码

### 预估工时
X 小时

### 依赖任务
- 任务A
- 任务B
```

### 规范6：任务优先级

```markdown
## 优先级定义

| 优先级 | 说明 | 处理方式 |
|--------|------|---------|
| P0 | 阻塞性任务，影响主流程 | 立即处理 |
| P1 | 重要任务，核心功能 | 当前迭代完成 |
| P2 | 一般任务，非核心功能 | 计划内完成 |
| P3 | 优化任务，体验提升 | 有空再做 |

## 排序原则
1. 先做阻塞其他任务的任务
2. 先做风险高的任务
3. 先做核心功能
4. 并行安排无依赖任务
```

### 规范7：任务跟踪

```markdown
## 任务状态流转

待开始 → 进行中 → 待测试 → 已完成
              ↓
            已阻塞

## 每日站会汇报
1. 昨天完成了什么
2. 今天计划做什么
3. 是否有阻塞

## 任务更新规范
- 开始任务时更新状态为"进行中"
- 遇到阻塞及时更新并说明原因
- 完成后更新状态并关联代码提交
- 记录实际工时用于后续评估参考
```

### 规范8：常见需求拆分示例

```markdown
## 示例：实现文件上传功能

### 后端任务
1. [BE] 文件存储服务配置（MinIO/OSS）- 2h
2. [BE] 文件上传接口开发 - 3h
3. [BE] 文件下载接口开发 - 2h
4. [BE] 文件删除接口开发 - 1h
5. [BE] 文件记录数据库设计 - 1h
6. [BE] 文件接口单元测试 - 2h

### 前端任务
1. [FE] 文件上传组件开发 - 3h
2. [FE] 上传进度显示 - 2h
3. [FE] 文件列表展示 - 2h
4. [FE] 文件预览功能 - 2h
5. [FE] 接口联调 - 2h

### 总计：22h（约 3 人天）
```

## 禁止事项
- ❌ 任务描述模糊不清
- ❌ 任务粒度过大或过小
- ❌ 忽略任务依赖关系
- ❌ 不预留风险时间
- ❌ 不更新任务状态

## 检查清单
- [ ] 任务是否符合 SMART 原则
- [ ] 是否明确了验收标准
- [ ] 是否标注了依赖关系
- [ ] 工时评估是否合理
- [ ] 是否考虑了测试任务
