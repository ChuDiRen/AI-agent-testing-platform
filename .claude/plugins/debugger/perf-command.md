# /perf - æ€§èƒ½åˆ†æ

## æè¿°
åˆ†æä»£ç æ€§èƒ½é—®é¢˜ï¼Œæä¾›ä¼˜åŒ–å»ºè®®ã€‚

## ä½¿ç”¨æ–¹å¼
```
/perf [ç›®æ ‡] [--target <ç±»å‹>]
```

## å‚æ•°
| å‚æ•° | è¯´æ˜ | é»˜è®¤å€¼ |
|------|------|--------|
| `ç›®æ ‡` | æ–‡ä»¶/ç›®å½•è·¯å¾„ | å½“å‰ç›®å½• |
| `--target` | `api`/`db`/`frontend`/`all` | `all` |

## æ£€æŸ¥é¡¹

### API æ€§èƒ½
- å“åº”æ—¶é—´åˆ†æ
- æ…¢æ¥å£è¯†åˆ«
- å¹¶å‘å¤„ç†èƒ½åŠ›

### æ•°æ®åº“æ€§èƒ½
- N+1 æŸ¥è¯¢é—®é¢˜
- ç¼ºå°‘ç´¢å¼•
- æ…¢æŸ¥è¯¢åˆ†æ

### å‰ç«¯æ€§èƒ½
- ç»„ä»¶é‡å¤æ¸²æŸ“
- å¤§æ•°æ®åˆ—è¡¨ä¼˜åŒ–
- èµ„æºåŠ è½½ä¼˜åŒ–

## å¸¸è§é—®é¢˜æ¨¡å¼

å‚è€ƒ `@templates/debug-patterns.md` ä¸­çš„æ€§èƒ½é—®é¢˜æ’æŸ¥ã€‚

### N+1 æŸ¥è¯¢
```python
# âŒ é—®é¢˜ä»£ç 
for user in users:
    orders = session.exec(select(Order).where(Order.user_id == user.id)).all()

# âœ… ä¼˜åŒ–ä»£ç 
statement = select(User).options(selectinload(User.orders))
```

### å‰ç«¯é‡å¤æ¸²æŸ“
```vue
<!-- âŒ é—®é¢˜ä»£ç  -->
<script setup>
const options = { a: 1 }  // æ¯æ¬¡æ¸²æŸ“åˆ›å»ºæ–°å¯¹è±¡
</script>

<!-- âœ… ä¼˜åŒ–ä»£ç  -->
<script setup>
const options = ref({ a: 1 })  // ä½¿ç”¨ ref ç¼“å­˜
</script>
```

## è¾“å‡ºæ ¼å¼

```
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                    âš¡ æ€§èƒ½åˆ†ææŠ¥å‘Š                                â•‘
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘  ğŸ“Š åˆ†æç»Ÿè®¡                                                      â•‘
â•‘  æ–‡ä»¶: 15    é—®é¢˜: 5    ä¸¥é‡: 2    è­¦å‘Š: 3                        â•‘
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘  ğŸ”´ ä¸¥é‡é—®é¢˜ (2)                                                  â•‘
â•‘  [N+1] userService.py:45 - å¾ªç¯ä¸­æŸ¥è¯¢æ•°æ®åº“                       â•‘
â•‘  [å†…å­˜] dataProcessor.py:30 - å¤§æ•°æ®æœªåˆ†æ‰¹å¤„ç†                    â•‘
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘  ğŸŸ¡ è­¦å‘Š (3)                                                      â•‘
â•‘  [ç´¢å¼•] user è¡¨ name å­—æ®µç¼ºå°‘ç´¢å¼•                                 â•‘
â•‘  [æ¸²æŸ“] UserList.vue - ç»„ä»¶é¢‘ç¹é‡æ¸²æŸ“                             â•‘
â•‘  [åŠ è½½] å›¾ç‰‡èµ„æºæœªæ‡’åŠ è½½                                          â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
```

## ç¤ºä¾‹
```bash
/perf                                # å…¨é¢åˆ†æ
/perf platform-fastapi-server/       # åˆ†æåç«¯
/perf --target db                    # ä»…æ•°æ®åº“æ€§èƒ½
/perf --target frontend              # ä»…å‰ç«¯æ€§èƒ½
```
