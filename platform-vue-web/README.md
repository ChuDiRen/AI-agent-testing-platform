# AI Agent Testing Platform - Vue Frontend

åŸºäº Vue 3 + Element Plus çš„ AI æ™ºèƒ½ä½“æµ‹è¯•å¹³å°å‰ç«¯

## æŠ€æœ¯æ ˆ

- **æ¡†æ¶**: Vue 3
- **UIç»„ä»¶åº“**: Element Plus
- **è·¯ç”±**: Vue Router
- **çŠ¶æ€ç®¡ç†**: Vuex
- **HTTPå®¢æˆ·ç«¯**: Axios
- **æ„å»ºå·¥å…·**: Vite

## é¡¹ç›®ç»“æ„

```
platform-vue-web/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ App.vue              # æ ¹ç»„ä»¶
â”‚   â”œâ”€â”€ main.js              # å…¥å£æ–‡ä»¶
â”‚   â”œâ”€â”€ axios.js             # Axiosé…ç½®
â”‚   â”œâ”€â”€ router/              # è·¯ç”±é…ç½®
â”‚   â”‚   â””â”€â”€ index.js
â”‚   â”œâ”€â”€ store/               # VuexçŠ¶æ€ç®¡ç†
â”‚   â”‚   â””â”€â”€ index.js
â”‚   â”œâ”€â”€ directives/          # è‡ªå®šä¹‰æŒ‡ä»¤ ğŸ†•
â”‚   â”‚   â””â”€â”€ permission.js    # æƒé™æŒ‡ä»¤ï¼ˆv-permission, v-roleï¼‰
â”‚   â””â”€â”€ views/               # é¡µé¢ç»„ä»¶
â”‚       â”œâ”€â”€ 403.vue          # 403 æ— æƒé™è®¿é—®é¡µé¢ ğŸ†•
â”‚       â”œâ”€â”€ 404.vue          # 404 é¡µé¢ä¸å­˜åœ¨
â”‚       â”œâ”€â”€ 500.vue          # 500 æœåŠ¡å™¨é”™è¯¯é¡µé¢ ğŸ†•
â”‚       â”œâ”€â”€ login/           # ç™»å½•
â”‚       â”œâ”€â”€ home/            # ä¸»é¡µ
â”‚       â”œâ”€â”€ users/           # ç”¨æˆ·ç®¡ç†ï¼ˆå·²æ‰©å±•RBACå­—æ®µï¼‰
â”‚       â”‚   â”œâ”€â”€ user.js
â”‚       â”‚   â”œâ”€â”€ userList.vue
â”‚       â”‚   â””â”€â”€ userForm.vue
â”‚       â”œâ”€â”€ system/          # ç³»ç»Ÿç®¡ç† ğŸ†•
â”‚       â”‚   â”œâ”€â”€ role/        # è§’è‰²ç®¡ç†
â”‚       â”‚   â”‚   â”œâ”€â”€ role.js
â”‚       â”‚   â”‚   â”œâ”€â”€ roleList.vue
â”‚       â”‚   â”‚   â””â”€â”€ roleForm.vue
â”‚       â”‚   â”œâ”€â”€ menu/        # èœå•ç®¡ç†
â”‚       â”‚   â”‚   â”œâ”€â”€ menu.js
â”‚       â”‚   â”‚   â”œâ”€â”€ menuList.vue
â”‚       â”‚   â”‚   â””â”€â”€ menuForm.vue
â”‚       â”‚   â””â”€â”€ dept/        # éƒ¨é—¨ç®¡ç†
â”‚       â”‚       â”œâ”€â”€ dept.js
â”‚       â”‚       â”œâ”€â”€ deptList.vue
â”‚       â”‚       â””â”€â”€ deptForm.vue
â”‚       â””â”€â”€ apitest/         # APIæµ‹è¯•
â”‚           â”œâ”€â”€ project/     # é¡¹ç›®ç®¡ç†
â”‚           â”œâ”€â”€ keyword/     # å…³é”®å­—ç®¡ç†
â”‚           â””â”€â”€ apiMate/     # ç´ æç®¡ç†
â”œâ”€â”€ public/
â”œâ”€â”€ index.html
â”œâ”€â”€ package.json
â””â”€â”€ vite.config.js
```

## å®‰è£…ä¾èµ–

```bash
npm install
```

æˆ–ä½¿ç”¨ pnpmï¼ˆæ¨èï¼‰ï¼š

```bash
pnpm install
```

## å¼€å‘æ¨¡å¼

```bash
npm run dev
```

è®¿é—®ï¼šhttp://localhost:5173

## ç”Ÿäº§æ„å»º

```bash
npm run build
```

## RBACæƒé™ç®¡ç†åŠŸèƒ½ ğŸ†•

### 1. æƒé™æŒ‡ä»¤

#### v-permission æŒ‡ä»¤

ç”¨äºæ§åˆ¶æŒ‰é’®æˆ–å…ƒç´ çš„æ˜¾ç¤º/éšè—ï¼ŒåŸºäºç”¨æˆ·æƒé™ï¼š

```vue
<template>
  <!-- å•ä¸ªæƒé™ -->
  <el-button v-permission="'system:user:add'">æ–°å¢ç”¨æˆ·</el-button>
  
  <!-- å¤šä¸ªæƒé™ï¼ˆæ»¡è¶³ä»»ä¸€å³å¯ï¼‰ -->
  <el-button v-permission="['system:user:edit', 'system:user:delete']">
    ç¼–è¾‘æˆ–åˆ é™¤
  </el-button>
</template>
```

#### v-role æŒ‡ä»¤

ç”¨äºæ§åˆ¶å…ƒç´ æ˜¾ç¤º/éšè—ï¼ŒåŸºäºç”¨æˆ·è§’è‰²ï¼š

```vue
<template>
  <!-- å•ä¸ªè§’è‰² -->
  <div v-role="'admin'">ä»…ç®¡ç†å‘˜å¯è§</div>
  
  <!-- å¤šä¸ªè§’è‰²ï¼ˆæ»¡è¶³ä»»ä¸€å³å¯ï¼‰ -->
  <div v-role="['admin', 'è¶…çº§ç®¡ç†å‘˜']">ç®¡ç†å‘˜æˆ–è¶…ç®¡å¯è§</div>
</template>
```

### 2. VuexçŠ¶æ€ç®¡ç†

#### çŠ¶æ€ (State)

```javascript
{
  userInfo: null,      // ç”¨æˆ·ä¿¡æ¯
  roles: [],           // ç”¨æˆ·è§’è‰²åˆ—è¡¨
  permissions: [],     // ç”¨æˆ·æƒé™åˆ—è¡¨
  menuTree: []         // ç”¨æˆ·èœå•æ ‘
}
```

#### æ–¹æ³• (Mutations)

- `setUserInfo(userInfo)` - è®¾ç½®ç”¨æˆ·ä¿¡æ¯
- `setRoles(roles)` - è®¾ç½®ç”¨æˆ·è§’è‰²
- `setPermissions(permissions)` - è®¾ç½®ç”¨æˆ·æƒé™
- `setMenuTree(menuTree)` - è®¾ç½®èœå•æ ‘
- `clearUserInfo()` - æ¸…é™¤ç”¨æˆ·ä¿¡æ¯ï¼ˆç™»å‡ºï¼‰

#### è®¡ç®—å±æ€§ (Getters)

- `hasPermission(perm)` - åˆ¤æ–­æ˜¯å¦æœ‰æŸä¸ªæƒé™
- `hasRole(role)` - åˆ¤æ–­æ˜¯å¦æœ‰æŸä¸ªè§’è‰²

### 3. ç®¡ç†ç•Œé¢

#### 3.1 è§’è‰²ç®¡ç†

**åˆ—è¡¨é¡µé¢** (/roleList)ï¼š
- âœ… è§’è‰²åˆ—è¡¨ï¼ˆåˆ†é¡µã€æœç´¢ï¼‰
- âœ… è·³è½¬åˆ°æ–°å¢/ç¼–è¾‘è¡¨å•
- âœ… åˆ é™¤è§’è‰²
- âœ… ä¸ºè§’è‰²åˆ†é…èœå•æƒé™ï¼ˆæ ‘å½¢é€‰æ‹©å¯¹è¯æ¡†ï¼‰

**è¡¨å•é¡µé¢** (/roleForm)ï¼š
- âœ… æ–°å¢è§’è‰²
- âœ… ç¼–è¾‘è§’è‰²
- âœ… è¡¨å•éªŒè¯
- âœ… æäº¤åè¿”å›åˆ—è¡¨

#### 3.2 èœå•ç®¡ç†

**åˆ—è¡¨é¡µé¢** (/menuList)ï¼š
- âœ… èœå•æ ‘å½¢å±•ç¤º
- âœ… åˆ·æ–°æ•°æ®
- âœ… è·³è½¬åˆ°æ–°å¢/ç¼–è¾‘è¡¨å•
- âœ… åˆ é™¤èœå•

**è¡¨å•é¡µé¢** (/menuForm)ï¼š
- âœ… æ–°å¢èœå•ï¼ˆæ”¯æŒé€‰æ‹©ä¸Šçº§èœå•ï¼‰
- âœ… ç¼–è¾‘èœå•
- âœ… èœå•ç±»å‹é€‰æ‹©ï¼ˆèœå•/æŒ‰é’®ï¼‰
- âœ… æƒé™æ ‡è¯†é…ç½®
- âœ… è¡¨å•éªŒè¯

#### 3.3 éƒ¨é—¨ç®¡ç†

**åˆ—è¡¨é¡µé¢** (/deptList)ï¼š
- âœ… éƒ¨é—¨æ ‘å½¢å±•ç¤º
- âœ… åˆ·æ–°æ•°æ®
- âœ… è·³è½¬åˆ°æ–°å¢/ç¼–è¾‘è¡¨å•
- âœ… åˆ é™¤éƒ¨é—¨

**è¡¨å•é¡µé¢** (/deptForm)ï¼š
- âœ… æ–°å¢éƒ¨é—¨ï¼ˆæ”¯æŒé€‰æ‹©ä¸Šçº§éƒ¨é—¨ï¼‰
- âœ… ç¼–è¾‘éƒ¨é—¨
- âœ… éƒ¨é—¨æ’åº
- âœ… è¡¨å•éªŒè¯

#### 3.4 ç”¨æˆ·ç®¡ç†

**åˆ—è¡¨é¡µé¢** (/userList)ï¼š
- âœ… ç”¨æˆ·åˆ—è¡¨ï¼ˆåˆ†é¡µã€æœç´¢ï¼‰
- âœ… æ˜¾ç¤ºå­—æ®µï¼šidã€ç”¨æˆ·åã€é‚®ç®±ã€è”ç³»ç”µè¯ã€éƒ¨é—¨IDã€çŠ¶æ€ã€æ€§åˆ«ã€åˆ›å»ºæ—¶é—´
- âœ… è·³è½¬åˆ°æ–°å¢/ç¼–è¾‘è¡¨å•
- âœ… åˆ é™¤ç”¨æˆ·

**è¡¨å•é¡µé¢** (/userForm)ï¼š
- âœ… æ–°å¢ç”¨æˆ·
- âœ… ç¼–è¾‘ç”¨æˆ·
- âœ… å®Œæ•´å­—æ®µæ”¯æŒï¼š
  * `id`: ç”¨æˆ·IDï¼ˆç¼–è¾‘æ—¶è‡ªåŠ¨å¡«å……ï¼Œç¦ç”¨ä¿®æ”¹ï¼‰
  * `username`: ç”¨æˆ·åï¼ˆå¿…å¡«ï¼‰
  * `password`: å¯†ç ï¼ˆå¿…å¡«ï¼‰
  * `email`: é‚®ç®±ï¼ˆå¯é€‰ï¼Œå¸¦æ ¼å¼éªŒè¯ï¼‰
  * `mobile`: è”ç³»ç”µè¯ï¼ˆå¯é€‰ï¼Œå¸¦æ‰‹æœºå·æ ¼å¼éªŒè¯ï¼‰
  * `dept_id`: éƒ¨é—¨IDï¼ˆå¯é€‰ï¼Œæ•°å­—è¾“å…¥ï¼‰
  * `ssex`: æ€§åˆ«ï¼ˆå•é€‰ï¼š0ç”·/1å¥³/2ä¿å¯†ï¼Œé»˜è®¤ä¿å¯†ï¼‰
  * `status`: çŠ¶æ€ï¼ˆå•é€‰ï¼š0é”å®š/1æœ‰æ•ˆï¼Œé»˜è®¤æœ‰æ•ˆï¼‰
  * `avatar`: å¤´åƒURLï¼ˆå¯é€‰ï¼‰
  * `description`: æè¿°ï¼ˆå¯é€‰ï¼Œæ–‡æœ¬åŸŸï¼‰
- âœ… è¡¨å•éªŒè¯ï¼ˆç”¨æˆ·åã€å¯†ç å¿…å¡«ï¼Œé‚®ç®±å’Œæ‰‹æœºå·æ ¼å¼éªŒè¯ï¼‰
- âœ… æäº¤åè¿”å›åˆ—è¡¨

**å­—æ®µç»Ÿä¸€è¯´æ˜**ï¼š
- æ‰€æœ‰ RBAC æ¨¡å—ï¼ˆUserã€Roleã€Menuã€Deptï¼‰ç»Ÿä¸€ä½¿ç”¨ `id` ä½œä¸ºä¸»é”®
- ç®€åŒ–å‰åç«¯å­—æ®µæ˜ å°„ï¼Œä»£ç æ›´ç®€æ´ç»Ÿä¸€

### 4. APIè¯·æ±‚æ–‡ä»¶

#### ç”¨æˆ·ç®¡ç† API (views/users/user.js)

```javascript
import { queryByPage, insertData, updateData, deleteData, 
         assignRoles, getUserRoles, updateStatus } from '~/views/users/user.js'
```

#### è§’è‰²ç®¡ç† API (views/system/role/role.js)

```javascript
import { queryByPage, insertData, updateData, deleteData,
         assignMenus, getRoleMenus } from '~/views/system/role/role.js'
```

#### èœå•ç®¡ç† API (views/system/menu/menu.js)

```javascript
import { getMenuTree, insertData, updateData, deleteData,
         getUserMenus } from '~/views/system/menu/menu.js'
```

#### éƒ¨é—¨ç®¡ç† API (views/system/dept/dept.js)

```javascript
import { getDeptTree, insertData, updateData, deleteData } from '~/views/system/dept/dept.js'
```

## é»˜è®¤ç™»å½•è´¦å·

- **ç”¨æˆ·å**: admin
- **å¯†ç **: admin123
- **è§’è‰²**: è¶…çº§ç®¡ç†å‘˜ï¼ˆæ‹¥æœ‰æ‰€æœ‰æƒé™ï¼‰

## æƒé™æ ‡è¯†è§„èŒƒ

æƒé™æ ‡è¯†é‡‡ç”¨ä¸‰æ®µå¼å‘½åï¼š`æ¨¡å—:åŠŸèƒ½:æ“ä½œ`

**ç¤ºä¾‹**ï¼š

- `system:user:view` - æŸ¥çœ‹ç”¨æˆ·
- `system:user:add` - æ–°å¢ç”¨æˆ·
- `system:user:edit` - ç¼–è¾‘ç”¨æˆ·
- `system:user:delete` - åˆ é™¤ç”¨æˆ·
- `system:user:role` - åˆ†é…è§’è‰²
- `system:role:view` - æŸ¥çœ‹è§’è‰²
- `system:role:menu` - åˆ†é…æƒé™
- `system:menu:view` - æŸ¥çœ‹èœå•
- `system:dept:view` - æŸ¥çœ‹éƒ¨é—¨

## èœå•ç±»å‹

- **ç±»å‹ 0ï¼ˆèœå•ï¼‰**: æ˜¾ç¤ºåœ¨ä¾§è¾¹æ ï¼Œæœ‰è·¯ç”±è·¯å¾„å’Œç»„ä»¶
- **ç±»å‹ 1ï¼ˆæŒ‰é’®ï¼‰**: ä¸æ˜¾ç¤ºåœ¨ä¾§è¾¹æ ï¼Œä»…ä½œä¸ºæƒé™æ ‡è¯†

## é”™è¯¯é¡µé¢ ğŸ†•

ç³»ç»Ÿæä¾›äº†ä¸‰ç§é”™è¯¯é¡µé¢ï¼Œä½¿ç”¨Element Plusçš„`el-result`ç»„ä»¶ï¼š

### 403 - æ— æƒé™è®¿é—®
- **è·¯ç”±**: `/403`
- **ä½¿ç”¨åœºæ™¯**: ç”¨æˆ·æ— æƒé™è®¿é—®æŸä¸ªé¡µé¢æˆ–èµ„æº
- **è‡ªåŠ¨è·³è½¬**: axiosæ‹¦æˆªå™¨æ•è·HTTP 403çŠ¶æ€ç æ—¶è‡ªåŠ¨è·³è½¬

### 404 - é¡µé¢ä¸å­˜åœ¨
- **è·¯ç”±**: `/:pathMatch(.*)*`ï¼ˆæ‰€æœ‰æœªåŒ¹é…çš„è·¯ç”±ï¼‰
- **ä½¿ç”¨åœºæ™¯**: è®¿é—®ä¸å­˜åœ¨çš„é¡µé¢

### 500 - æœåŠ¡å™¨é”™è¯¯
- **è·¯ç”±**: `/500`
- **ä½¿ç”¨åœºæ™¯**: æœåŠ¡å™¨å†…éƒ¨é”™è¯¯
- **è‡ªåŠ¨è·³è½¬**: axiosæ‹¦æˆªå™¨æ•è·HTTP 500çŠ¶æ€ç æ—¶è‡ªåŠ¨è·³è½¬

**æ‰‹åŠ¨è·³è½¬ç¤ºä¾‹**ï¼š
```javascript
// è·³è½¬åˆ°403é¡µé¢
this.$router.push('/403')

// è·³è½¬åˆ°500é¡µé¢
this.$router.push('/500')
```

## å¼€å‘è§„èŒƒ

1. **æƒé™æ§åˆ¶**ï¼šæ‰€æœ‰éœ€è¦æƒé™æ§åˆ¶çš„æŒ‰é’®/å…ƒç´ ï¼Œå¿…é¡»ä½¿ç”¨ `v-permission` æˆ– `v-role` æŒ‡ä»¤
2. **APIè°ƒç”¨**ï¼šç»Ÿä¸€ä½¿ç”¨ `axios.js` ä¸­é…ç½®çš„axioså®ä¾‹
3. **å“åº”å¤„ç†**ï¼šå·²åœ¨axiosæ‹¦æˆªå™¨ä¸­ç»Ÿä¸€å¤„ç†æˆåŠŸ/å¤±è´¥æç¤º
4. **é”™è¯¯å¤„ç†**ï¼šHTTP 403/500é”™è¯¯ä¼šè‡ªåŠ¨è·³è½¬åˆ°å¯¹åº”é”™è¯¯é¡µé¢
5. **ä»£ç é£æ ¼**ï¼šéµå¾ªVue 3 Composition APIé£æ ¼

## æ³¨æ„äº‹é¡¹

1. æƒé™æŒ‡ä»¤ä¼šç›´æ¥ä»DOMä¸­ç§»é™¤æ— æƒé™çš„å…ƒç´ 
2. åç«¯APIéœ€æ­£ç¡®é…ç½®CORS
3. ç¡®ä¿åç«¯æœåŠ¡å·²å¯åŠ¨å¹¶åœ¨ `/api` è·¯å¾„ä¸‹å¯è®¿é—®
4. é¦–æ¬¡ç™»å½•ä½¿ç”¨ admin/admin123 è´¦å·

## ç‰ˆæœ¬ä¿¡æ¯

- **ç‰ˆæœ¬**: 2.0.0
- **æ¡†æ¶**: Vue 3
- **UIç»„ä»¶**: Element Plus
- **Node**: 14+

## åç»­è®¡åˆ’

- [ ] åŠ¨æ€è·¯ç”±åŠ è½½ï¼ˆæ ¹æ®ç”¨æˆ·èœå•æƒé™ï¼‰
- [ ] æ•°æ®æƒé™è¿‡æ»¤ï¼ˆéƒ¨é—¨çº§åˆ«ï¼‰
- [ ] æƒé™ç¼“å­˜ä¼˜åŒ–
- [ ] æ›´å¤šæƒé™éªŒè¯åœºæ™¯

