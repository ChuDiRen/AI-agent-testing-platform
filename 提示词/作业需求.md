# 作业需求

## 第一次作业

**项目链接：** https://github.com/langchain-ai/agent-chat-ui

**任务：** 开发自己的前端界面：agent-chat-ui（高度定制开发）

### 作业要求

1. 将该项目汉化成中文
2. 增加左侧聊天历史删除功能

### 智能体和工具之间的关系

3. 写出大模型与工具之间的关系（理清智能体逻辑）

---

## 第二次作业

### 作业要求

1. 优化前端页面的工具显示
   - 工具显示样式（可以收缩）
   - 图片显示
2. 基于langgraph的图实现sqlagent的功能，包括图形化输出（可选）

---

## 第三次作业

### 作业要求

**主要任务：** 完成ChatDB项目开发（后端、前端）

- 改写list_tables方法
- 开发一个后台管理系统（chatdb）--数据建模（表的管理）
- 如果基于chatdb，项目的技术栈升级为LangGraph（知识图谱）

### 进阶功能

- 在业务流中增加智能用户评审（如果有错误发生则启动中断），添加条件边实现

---

## 第四次作业

### 作业要求

1. 完成chatdb项目后台管理系统实现
2. 改造agent-chat-ui前端页面，可以选择数据库连接

---

## 第五次作业

### 作业要求

1. 二开langgraph_api，使其支持自定义的checkpointer
2. 基于长期记忆的语义查询
   1. 部署ollama
   2. 部署千问3 Embedding
   3. 确定远程可以访问

---

## 第六次作业

### 作业要求

1. 完成pdf及图片的对话智能体开发（前端--图片数据格式需要优化及后端）
2. pdf解析可以尝试使用PaddleOCR VL或者 DeepSeek ocr

---

# 实战进阶篇：Notebook 与 智能客服 (基于课堂笔记)

## 进阶作业一：Notebook 综合实战 - 前端复刻 & 数据源智能体

**核心任务：** 复刻 Google NotebookLLM 前端界面，并实现基础的数据源添加功能。

### 作业要求

1.  **前端界面改造**：
    *   复刻 Google NotebookLLM 的界面风格。
    *   将上传文件功能移动到左侧的“添加来源”按钮上。
    *   左侧区域：管理素材来源（爬虫、Tavily、本地文档等）。
    *   中间区域：对话交互。
    *   右侧区域：功能扩展区。

2.  **开发“添加数据源智能体”**：
    *   支持添加本地文件（base64 解码 -> 存储 -> 读取）。
    *   支持将本地文件嵌入向量数据库。
    *   对添加的文档进行总结，并生成可能的问题。
    *   技术栈：Python 3.13, `uv` 包管理。

3.  **开发 RAG MCP Server**：
    *   基于 RAGAnything + LightRAG 封装。
    *   提供文档解析、分块、嵌入服务。
    *   支持接收文件完整路径进行处理。

---

## 进阶作业二：Notebook 资源添加及获取 - 多模态与 API 二开

**核心任务：** 构建支持多模态的资源解析智能体，并进行 LangGraph-API 二开。

### 作业要求

1.  **构建资源解析智能体**（支持多任务并发）：
    *   **PDF 解析**：使用 PyMuPDF4LLM、DeepSeek OCR 或 PaddleOCR VL。
    *   **图片处理**：集成多模态大模型（豆包、Qwen VL Max、InternVL）。
    *   **视频/音频**：集成豆包等模型进行解析。
    *   **网络资源**：集成爬虫 (Crawl4AI) 和网络搜索。
    *   **输出标准化**：所有资源解析后统一转换为 Markdown 格式。

2.  **后端服务二开**：
    *   对 `langgraph-api` 进行二次开发。
    *   实现根据用户 ID 自动读取并加载该用户的资源信息。

3.  **前端交互优化**：
    *   实现选择左侧资源列表，在中间区域与选中资源进行对话的功能。

---

## 进阶作业三：Notebook 智能体实战 - 协作与知识库

**核心任务：** 完善 Source Agent 和 Chat Agent，并封装 LightRAG。

### 作业要求

1.  **Source Agent (添加资源智能体) 完善**：
    *   集成文件处理、互联网搜索 (Tavily/Zhipu)、网络爬虫 (Crawl4AI)。
    *   集成知识库管理 (RAGAnything/LightRAG)：支持任意格式文件入库。
    *   集成 Text2SQL：支持直接从数据库读取数据。

2.  **Chat Agent (对话智能体) 开发**：
    *   根据选择的资源加载对应的 Markdown 数据或知识库检索数据（并行处理）。
    *   汇总资源信息，结合大模型进行问答。

3.  **LightRAG MCP 封装**：
    *   将 LightRAG 提供的查询接口封装成标准的 MCP Server。

---

## 进阶作业四：Notebook 思维导图及报告生成

**核心任务：** 实现基于资源的思维导图生成和自动化报告生成。

### 作业要求

1.  **思维导图生成**：
    *   前端选择资源 ID。
    *   后端从 MongoDB 提取资源，整合内容。
    *   利用大模型生成 Markdown 格式的思维导图。
    *   将生成的导图存入 MongoDB。
    *   实现刷新和删除生成内容的 Graph 逻辑。

2.  **报告生成系统**：
    *   定义报告格式模板。
    *   开发报告生成 Graph：
        *   解析并获取来源（知识库 MCP、文件工具、多媒体工具）。
        *   整合资源传递给 DeepAgents。
        *   将生成报告存入 MongoDB。
    *   **UI 展示**：使用 `CopilotKit` (`@copilotkit/react-ui`) 或 DeepAgent Chat UI 实现悬浮窗，展示报告生成的实时过程。

---

## 进阶作业五：深度报告与知识库进阶

**核心任务：** 深度定制报告生成业务，并对企业级知识库进行私有化二开。

### 作业要求

1.  **深度报告生成**：
    *   支持静态资料（文档）和动态资料（Web 爬虫、搜索、API 数据）的混合生成。
    *   DeepAgents 应用：每个资料来源对应一个子智能体。
    *   根据业务需求定制不同的报告模板与约束。

2.  **私有化知识库 (RAGAnything 二开)**：
    *   基于 LightRAG 进行多模态处理框架二开。
    *   **文本分割**：参考 Chonkie。
    *   **多模态处理**：集成 Docling, MinerU, PaddleOCR VL, DeepSeek OCR。
    *   **向量库管理**：推荐使用 Milvus，实现不同知识库存储在不同集合中。
    *   **嵌入模型**：部署 Qwen3 8B。
    *   开发 RAG MCP 检索功能。

---

## 进阶作业六：智能客服系统实战 - 业务对接

**核心任务：** 开发智能客服系统，对接电商业务接口，实现查询与反馈。

### 作业要求

1.  **认证对接**：
    *   对接电商系统认证接口，存储 Access Token。
    *   后端数据模型设计 `Context` 类包含 `access_token`。

2.  **业务查询 MCP Server**：
    *   实现订单查询、收藏查询、地址查询。
    *   实现产品搜索、产品详情获取、评论查询。

3.  **交互功能开发**：
    *   **用户反馈**：实现同意、拒绝、编辑功能的接口。
    *   **购物流程**：实现“帮我买”功能（加购 -> 确认地址/支付 -> 优惠券 -> 下单）。

4.  **图片相似性搜索**：
    *   将商品图片及描述嵌入向量数据库。
    *   实现上传图片查找相似产品的 RAG 功能。

---

## 进阶作业七：智能客服记忆体实战

**核心任务：** 增强智能客服的多模态交互能力与长期记忆管理。

### 作业要求

1.  **多模态交互 (可选)**：
    *   参考 OpenWebUI，增加语音功能及视频通话功能。

2.  **长期记忆 (Long-term Memory) MCP**：
    *   编写一个 LangGraph 的 Long-term Memory MCP Server。
    *   实现记忆管理（增删改）及记忆查询功能。

3.  **LangGraph-API 改造**：
    *   改造 `langgraph-api` 使其支持 `Store` (长期记忆) 功能。
    *   实现选择性记忆核心对话记录，并基于大模型进行加工处理。

---

## 综合实战与核心技术总结 (进阶)

### 核心优化方向
1.  **Chat2DB + RAGAnything 优化**：将 SQL 生成与执行封装为 MCP Server，增加错误自愈机制。
2.  **人工反馈机制**：将用户反馈信息（如“2个礼拜”）存入向量数据库。
3.  **长期记忆增强**：确保能记住真正重要的上下文信息。

### 推荐技术栈
*   **后端**：FastAPI, LangGraph-API, LangChain, FastMCP, Celery, Docker
*   **数据库**：PostgreSQL, pgvector, Milvus, Neo4j
*   **前端**：Agent Chat UI (Create Agent), CopilotKit, DeepAgents Chat UI
